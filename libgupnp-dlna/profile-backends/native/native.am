native_profile_backend = \
	profile-backends/native/libnativeprofilebackend.la
native_loader = \
	profile-backends/native/libnativeloader.la
native_guesser = \
	profile-backends/native/libnativeguesser.la

native_cflags = \
	$(common_cflags) \
	-I$(top_srcdir)/libgupnp-dlna/profile-backends/native/sets

noinst_LTLIBRARIES += \
	$(native_profile_backend) \
	$(native_loader) \
	$(native_guesser)

gupnp_cflags += \
	-I$(top_srcdir)/libgupnp-dlna/profile-backends/native
gupnp_libadd += \
	$(native_profile_backend)

include $(top_srcdir)/libgupnp-dlna/profile-backends/native/sets/sets.am

profile_backends_native_libnativeloader_la_SOURCES = \
	profile-backends/native/gupnp-dlna-native-profile-loader.c \
	profile-backends/native/gupnp-dlna-native-profile-loader.h
profile_backends_native_libnativeloader_la_LIBADD = \
	$(common_libadd)
profile_backends_native_libnativeloader_la_CFLAGS = \
	$(loader_log_cflags) \
	$(native_cflags)

profile_backends_native_libnativeguesser_la_SOURCES = \
	$(sets_sources) \
	profile-backends/native/gupnp-dlna-native-profile-guesser-impl.c \
	profile-backends/native/gupnp-dlna-native-profile-guesser-impl.h
profile_backends_native_libnativeguesser_la_LIBADD = \
	$(common_libadd)
profile_backends_native_libnativeguesser_la_CFLAGS = \
	$(guesser_log_cflags) \
	$(native_cflags) \
	$(metadata_cflags)

profile_backends_native_libnativeprofilebackend_la_SOURCES = \
	profile-backends/native/gupnp-dlna-native-profile-backend.c \
	profile-backends/native/gupnp-dlna-native-profile-backend.h \
	profile-backends/native/gupnp-dlna-native-profile.c \
	profile-backends/native/gupnp-dlna-native-profile.h \
	profile-backends/native/gupnp-dlna-native-sets.h \
	profile-backends/native/gupnp-dlna-native-utils.c \
	profile-backends/native/gupnp-dlna-native-utils.h
profile_backends_native_libnativeprofilebackend_la_LIBADD = \
	$(common_libadd) \
	$(native_loader) \
	$(native_guesser)
profile_backends_native_libnativeprofilebackend_la_CFLAGS = \
	$(general_log_cflags) \
	$(native_cflags) \
	$(metadata_cflags)
